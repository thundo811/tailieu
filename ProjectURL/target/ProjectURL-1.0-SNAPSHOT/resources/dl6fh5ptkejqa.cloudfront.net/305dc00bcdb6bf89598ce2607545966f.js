(function(b){function p(b){clearTimeout(m);c?("undefined"===b&&(b=400),c.animate({top:-1*k},b,function(){var a=c.data("obj");a.onClose&&a.onClose.call({el:c,hide:p},a.data);c.remove();l.remove();c=null})):a()}function a(){var a=g.shift();if("undefined"!==typeof a){var b="",f=" blue";a.type&&"error"===a.type&&(b+=" error",f="");a.type&&"confirm"===a.type&&(b+=" confirm");a.type&&"success"===a.type&&(b+=" success");a.noclose&&(b+=" noclose");c=$("<p></p>");c.addClass(b);"text"==a.contentType?c.text(a.content):
c.html(a.content);a.noclose||$('<a href="#"> </a>').addClass("close"+f).appendTo(c);c.data("obj",a);c.hover(function(){e()},function(){d()});a.css&&c.css(a.css);l||(l=$('<div id="notification_center"></div>'));l.appendTo(document.body).append(c.css({visibility:"hidden"}));k=l.height();c.css({visibility:"visible",top:-1*k}).animate({top:"0"},function(){a.onLoad&&a.onLoad.call({el:c,hide:p},a.data)});q=!1;d()}}function e(a,b){"function"===typeof a&&"undefined"===typeof b&&(b=a,a=!1);a&&(q=!0);clearTimeout(m);
b&&b.call({el:c})}function d(a,b){"function"===typeof a&&"undefined"===typeof b&&(b=a,a=!1);if(!q||a)q=!1,clearTimeout(m),c&&-1<c.data("obj").dur&&(m=setTimeout(function(){p()},c.data("obj").dur)),b&&b.call({el:c})}var c=null,g=[],f={dur:5E3},l=null,k=0,m=null,q=!1;$(document.body).bind("click",function(a){$(a.target).is("#notification_center a.close")&&(a.preventDefault(),p())});b.notify=function(a,b){var e=$.extend({},f);b=$.extend(e,b||{});b.content=a;b.contentType=b.contentType||"text";g.push(b);
c&&!b.force||p(b.dur)};b.notify.pause=e;b.notify.resume=d;b.notify.hide=p;b.notify.defaults=f})(window);(function(b){function p(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}b.fn.ajaxSubmit=function(a){function e(){function c(){var a=k.attr("target"),e=k.attr("action");d.setAttribute("target",f);"POST"!=d.getAttribute("method")&&d.setAttribute("method","POST");d.getAttribute("action")!=h.url&&d.setAttribute("action",h.url);h.skipEncodingOverride||
k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});h.timeout&&setTimeout(function(){w=!0;g()},h.timeout);var l=[];try{if(h.extraData)for(var n in h.extraData)l.push(b('<input type="hidden" name="'+n+'" value="'+h.extraData[n]+'" />').appendTo(d)[0]);m.appendTo("body");m.data("form-plugin-onload",g);d.submit()}finally{d.setAttribute("action",e),a?d.setAttribute("target",a):k.removeAttr("target"),b(l).remove()}}function g(){if(!x){m.removeData("form-plugin-onload");var a=!0;try{if(w)throw"timeout";
r=q.contentWindow?q.contentWindow.document:q.contentDocument?q.contentDocument:q.document;var c="xml"==h.dataType||r.XMLDocument||b.isXMLDoc(r);p("isXml="+c);if(!c&&window.opera&&(null==r.body||""==r.body.innerHTML)&&--z){p("requeing onLoad callback, DOM not available");setTimeout(g,250);return}x=!0;n.responseText=r.documentElement?r.documentElement.innerHTML:null;n.responseXML=r.XMLDocument?r.XMLDocument:r;n.getResponseHeader=function(a){return{"content-type":h.dataType}[a]};var d=/(json|script)/.test(h.dataType);
if(d||h.textarea){var f=r.getElementsByTagName("textarea")[0];if(f)n.responseText=f.value;else if(d){var l=r.getElementsByTagName("pre")[0];l&&(n.responseText=l.innerHTML)}}else"xml"!=h.dataType||n.responseXML||null==n.responseText||(n.responseXML=e(n.responseText));y=b.httpData(n,h.dataType)}catch(k){p("error caught:",k),a=!1,n.error=k,b.handleError(h,n,"error",k)}a&&(h.success.call(h.context,y,"success",n),t&&b.event.trigger("ajaxSuccess",[n,h]));t&&b.event.trigger("ajaxComplete",[n,h]);t&&!--b.active&&
b.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,n,a?"success":"error");setTimeout(function(){m.removeData("form-plugin-onload");m.remove();n.responseXML=null},100)}}function e(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.tagName?b:null}var d=k[0];if(b(":input[name=submit],:input[id=submit]",d).length)alert('Error: Form elements must not have name or id of "submit".');
else{var h=b.extend(!0,{},b.ajaxSettings,a);h.context=h.context||h;var f="jqFormIO"+(new Date).getTime(),l="_"+f;window[l]=function(){var a=m.data("form-plugin-onload");if(a){a();window[l]=void 0;try{delete window[l]}catch(b){}}};var m=b('<iframe id="'+f+'" name="'+f+'" src="'+h.iframeSrc+'" onload="window[\'_\'+this.id]()" />'),q=m[0];m.css({position:"absolute",top:"-1000px",left:"-1000px"});var n={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},
getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;m.attr("src",h.iframeSrc)}},t=h.global;t&&!b.active++&&b.event.trigger("ajaxStart");t&&b.event.trigger("ajaxSend",[n,h]);if(h.beforeSend&&!1===h.beforeSend.call(h.context,n,h))h.global&&b.active--;else if(!n.aborted){var x=!1,w=0,u=d.clk;if(u){var v=u.name;v&&!u.disabled&&(h.extraData=h.extraData||{},h.extraData[v]=u.value,"image"==u.type&&(h.extraData[v+".x"]=d.clk_x,h.extraData[v+".y"]=d.clk_y))}h.forceSync?
c():setTimeout(c,10);var y,r,z=50}}}if(!this.length)return p("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof a&&(a={success:a});var d=b.trim(this.attr("action"));d&&(d=(d.match(/^([^#]+)/)||[])[1]);d=d||window.location.href||"";a=b.extend(!0,{url:d,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);d={};this.trigger("form-pre-serialize",[this,a,d]);if(d.veto)return p("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return p("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var c,g,f=this.formToArray(a.semantic);if(a.data)for(c in a.extraData=a.data,a.data)if(a.data[c]instanceof Array)for(var l in a.data[c])f.push({name:c,value:a.data[c][l]});else g=a.data[c],g=b.isFunction(g)?g():g,f.push({name:c,value:g});if(a.beforeSubmit&&!1===a.beforeSubmit(f,this,a))return p("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",
[f,this,a,d]);if(d.veto)return p("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;c=b.param(f);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+c,a.data=null):a.data=c;var k=this,m=[];a.resetForm&&m.push(function(){k.resetForm()});a.clearForm&&m.push(function(){k.clearForm()});if(!a.dataType&&a.target){var q=a.success||function(){};m.push(function(c){var d=a.replaceTarget?"replaceWith":"html";b(a.target)[d](c).each(q,arguments)})}else a.success&&m.push(a.success);
a.success=function(b,c,d){for(var f=a.context||a,g=0,e=m.length;g<e;g++)m[g].apply(f,[b,c,d||k,k])};c=0<b("input:file",this).length;l="multipart/form-data"==k.attr("enctype")||"multipart/form-data"==k.attr("encoding");!1!==a.iframe&&(c||a.iframe||l)?a.closeKeepAlive?b.get(a.closeKeepAlive,e):e():b.ajax(a);this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(a){if(0===this.length){var e=this.selector,d=this.context;if(!b.isReady&&e)return p("DOM not ready, queuing ajaxForm"),
b(function(){b(e,d).ajaxForm(a)}),this;p("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(c){c.isDefaultPrevented()||(c.preventDefault(),b(this).ajaxSubmit(a))}).bind("click.form-plugin",function(a){var d=a.target,f=b(d);if(!f.is(":submit,input:image")){d=f.closest(":submit");if(0==d.length)return;d=d[0]}var e=this;e.clk=d;"image"==d.type&&(void 0!=a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):
"function"==typeof b.fn.offset?(f=f.offset(),e.clk_x=a.pageX-f.left,e.clk_y=a.pageY-f.top):(e.clk_x=a.pageX-d.offsetLeft,e.clk_y=a.pageY-d.offsetTop));setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a){var e=[];if(0===this.length)return e;var d=this[0],c=a?d.getElementsByTagName("*"):d.elements;if(!c)return e;var g,f,l,k;g=0;for(max=c.length;g<max;g++)if(f=c[g],l=f.name)if(a&&
d.clk&&"image"==f.type)f.disabled||d.clk!=f||(e.push({name:l,value:b(f).val()}),e.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y}));else if((k=b.fieldValue(f,!0))&&k.constructor==Array)for(f=0,jmax=k.length;f<jmax;f++)e.push({name:l,value:k[f]});else null!==k&&"undefined"!=typeof k&&e.push({name:l,value:k});!a&&d.clk&&(a=b(d.clk),c=a[0],(l=c.name)&&!c.disabled&&"image"==c.type&&(e.push({name:l,value:a.val()}),e.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y})));return e};
b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var e=[];this.each(function(){var d=this.name;if(d){var c=b.fieldValue(this,a);if(c&&c.constructor==Array)for(var g=0,f=c.length;g<f;g++)e.push({name:d,value:c[g]});else null!==c&&"undefined"!=typeof c&&e.push({name:this.name,value:c})}});return b.param(e)};b.fn.fieldValue=function(a){for(var e=[],d=0,c=this.length;d<c;d++){var g=b.fieldValue(this[d],a);null===g||"undefined"==typeof g||g.constructor==
Array&&!g.length||(g.constructor==Array?b.merge(e,g):e.push(g))}return e};b.fieldValue=function(a,e){var d=a.name,c=a.type,g=a.tagName.toLowerCase();void 0===e&&(e=!0);if(e&&(!d||a.disabled||"reset"==c||"button"==c||("checkbox"==c||"radio"==c)&&!a.checked||("submit"==c||"image"==c)&&a.form&&a.form.clk!=a||"select"==g&&-1==a.selectedIndex))return null;if("select"==g){var f=a.selectedIndex;if(0>f)return null;for(var d=[],g=a.options,l=(c="select-one"==c)?f+1:g.length,f=c?f:0;f<l;f++){var k=g[f];if(k.selected){var m=
k.value;m||(m=k.attributes&&k.attributes.value&&!k.attributes.value.specified?k.text:k.value);if(c)return m;d.push(m)}}return d}return b(a).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})};
b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=a:"option"==this.tagName.toLowerCase()&&(e=b(this).parent("select"),a&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),
this.selected=a)})}})(jQuery);
