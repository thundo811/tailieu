(function(b){window.PromoModule={props:{avatarButton:b("#promo-avatar"),closeButton:b("#promo-close"),description:b("#promo-description"),bitlink:b("#promo-bitlink"),header:b("#promo-header"),bubble:b("#promo-speech-bubble"),opened:!0},init:function(){this.bindEvents()},bindEvents:function(){this.props.avatarButton.click(function(){this.press(this.props.opened)}.bind(this));this.props.closeButton.click(function(){this.press(this.props.opened)}.bind(this));this.props.bubble.hover(function(){this.reveal(this.props.closeButton)}.bind(this))},
press:function(b){!0===b?(this.props.bubble.addClass("hide-promo"),this.props.avatarButton.addClass("hide-promo"),this.props.opened=!1):(this.props.bubble.removeClass("hide-promo"),this.props.opened=!0);this.props.closeButton.addClass("hide-promo")},trackConversion:function(b){},reveal:function(b){b.removeClass("hide-promo")},hide:function(b){b.addClass("hide-promo")}}})(jQuery);(function(b,p,a,e){function c(a,c){this.element=a;this.options=b.extend({},d,c);this._defaults=d;this._name="carousel";this.init()}var d={speed:5E3,class_active:"active",class_inactive:"inactive",slide_animate_callback:function(){},navigation_option_previous:null,navigation_option_next:null,pagination:!1,pagination_navigation:!1,child_selector:null};b.fn.carousel=function(a){return this.each(function(){b.data(this,"plugin_carousel")||b.data(this,"plugin_carousel",new c(b(this),a))})};c.prototype.init=
function(){this.carousel_children=[];this.carousel_slides=[];this.carousel_slides_index_previous=this.carousel_slides_index_active=this.carousel_slides_count=0;this.carousel_slides_direction;this.carousel_pagination_items=[];this.carousel_clock;this.carousel_children=null==this.options.child_selector?this.element.children():this.element.find(this.options.child_selector);var a=this;this.carousel_children.each(function(d){b(this).hasClass("static")||(a.carousel_slides.push(b(this)),a.carousel_slide_animate_out(a.carousel_slides_count),
b(this).find("input").focus(function(){a.carousel_clock_stop()}).blur(function(){a.carousel_clock_start()}),b(this).data("slide-index",a.carousel_slides_count),1==a.options.pagination_navigation&&b(this).click(function(){a.carousel_slide_animate_to(b(this).data("slide-index"))}),a.carousel_slides_count++)});if(1==this.carousel_slides.length)return!1;null!=this.options.navigation_option_previous&&this.options.navigation_option_previous.click(function(b){b.preventDefault();a.carousel_slide_animate_direction("prev")});
null!=this.options.navigation_option_next&&this.options.navigation_option_next.click(function(b){b.preventDefault();a.carousel_slide_animate_direction("next")});if(1==this.options.pagination){var d=b("<ul class='carousel-pagination'></ul>");d.appendTo(this.element);for(var c=0;c<this.carousel_slides.length;c++){var l=b("<li><a href='' data-slide-index='"+c+"'><span>"+c+"</span></a></li>");l.appendTo(d);l.find("a").click(function(b){b.preventDefault();a.carousel_slide_animate_to(this.getAttribute("data-slide-index"))});
this.carousel_pagination_items.push(l)}}this.carousel_slide_animate_in(this.carousel_slides_index_active);this.options.slide_animate_callback(this.carousel_slides[this.carousel_slides_index_active]);this.carousel_clock_start()};c.prototype.carousel_clock_start=function(){var a=this;this.carousel_clock=setInterval(function(b){a.carousel_slide_animate_direction("next")},this.options.speed)};c.prototype.carousel_clock_stop=function(){clearInterval(this.carousel_clock)};c.prototype.carousel_slide_animate_in=
function(a){this.carousel_slides[a].removeClass(this.options.class_inactive);this.carousel_slides[a].addClass(this.options.class_active);this.carousel_slide_update_neighbors();this.carousel_pagination_items[a]&&this.carousel_pagination_items[a].addClass(this.options.class_active)};c.prototype.carousel_slide_animate_out=function(a){this.carousel_slides[a].removeClass(this.options.class_active);this.carousel_slides[a].addClass(this.options.class_inactive);this.carousel_pagination_items[a]&&this.carousel_pagination_items[a].removeClass(this.options.class_active)};
c.prototype.carousel_slide_animate_to=function(a){this.carousel_clock_stop();if("1"==this.carousel_slides.length)return!1;this.carousel_slides_index_previous=this.carousel_slides_index_active;this.carousel_slides_index_active=a;this.carousel_slide_animate_out(this.carousel_slides_index_previous);this.carousel_slide_animate_in(this.carousel_slides_index_active);this.options.slide_animate_callback(this.carousel_slides[this.carousel_slides_index_active]);this.carousel_clock_start()};c.prototype.carousel_slide_update_neighbors=
function(){this.carousel_slides_neighbor_count_before=Math.floor((this.carousel_slides_count-1)/2);this.carousel_slides_neighbor_count_after=Math.ceil((this.carousel_slides_count-1)/2);for(var a=/\bbefore-.+?\b/g,b=/\bafter-.+?\b/g,d=0;d<this.carousel_slides_count;d++){var c="";d<this.carousel_slides_index_active?(c=this.carousel_slides_index_active-d,c<=this.carousel_slides_neighbor_count_before?c="before-"+c:(c=this.carousel_slides_neighbor_count_after-(c-this.carousel_slides_neighbor_count_before-
1),c="after-"+c)):d>this.carousel_slides_index_active&&(c=-1*(this.carousel_slides_index_active-d),c<=this.carousel_slides_neighbor_count_after?c="after-"+c:(c=this.carousel_slides_neighbor_count_before-(c-this.carousel_slides_neighbor_count_after-1),c="before-"+c));this.carousel_slides[d][0].className=this.carousel_slides[d][0].className.replace(a,"");this.carousel_slides[d][0].className=this.carousel_slides[d][0].className.replace(b,"");this.carousel_slides[d].addClass(c)}};c.prototype.carousel_slide_animate_direction=
function(a){this.carousel_clock_stop();this.carousel_slides_index_previous=this.carousel_slides_index_active;this.carousel_slides_direction=a;if("1"==this.carousel_slides.length)return!1;"next"==a?(this.carousel_slides_index_active++,this.carousel_slides_index_active==this.carousel_slides_count&&(this.carousel_slides_index_active=0)):"prev"==a?(this.carousel_slides_index_active--,0>this.carousel_slides_index_active&&(this.carousel_slides_index_active=this.carousel_slides_count-1)):(this.carousel_slides_index_active=
a,this.carousel_slides_index_previous<this.carousel_slides_index_active?this.carousel_slides_direction="next":this.carousel_slides_index_previous>this.carousel_slides_index_active&&(this.carousel_slides_direction="prev"));this.carousel_slide_animate_out(this.carousel_slides_index_previous);this.carousel_slide_animate_in(this.carousel_slides_index_active);this.options.slide_animate_callback(this.carousel_slides[this.carousel_slides_index_active]);this.carousel_clock_start()}})(jQuery,window,document);var VideoPlayer={init:function(){this.addClickEvents()},addClickEvents:function(){$(".play").each(function(){var b=$(this);b.closest(".video-player").click(function(){var p=$(this);b.addClass("hide");window.ga("send","event","play-video","notification-play-video","Notification Play Video");b.data("videoid")?p.html('<iframe src="https://player.vimeo.com/video/'+b.data("videoid")+'?autoplay=1" frameborder="0" webkitallowfullscreen autoplay mozallowfullscreen allowfullscreen></iframe>'):p.html('<iframe src="https://player.vimeo.com/video/170191890?autoplay=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')})})},
pauseAll:function(){$("iframe").each(function(){if($(this).attr("autoplay")){var b=new Vimeo.Player($(this)[0]);b&&b.pause()}})}};VideoPlayer.init();(function(b){function p(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}b.fn.ajaxSubmit=function(a){function e(){function d(){var a=l.attr("target"),h=l.attr("action");e.setAttribute("target",k);"POST"!=e.getAttribute("method")&&e.setAttribute("method","POST");e.getAttribute("action")!=f.url&&e.setAttribute("action",f.url);f.skipEncodingOverride||
l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&setTimeout(function(){x=!0;c()},f.timeout);var g=[];try{if(f.extraData)for(var m in f.extraData)g.push(b('<input type="hidden" name="'+m+'" value="'+f.extraData[m]+'" />').appendTo(e)[0]);n.appendTo("body");n.data("form-plugin-onload",c);e.submit()}finally{e.setAttribute("action",h),a?e.setAttribute("target",a):l.removeAttr("target"),b(g).remove()}}function c(){if(!y){n.removeData("form-plugin-onload");var a=!0;try{if(x)throw"timeout";
q=r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document;var d="xml"==f.dataType||q.XMLDocument||b.isXMLDoc(q);p("isXml="+d);if(!d&&window.opera&&(null==q.body||""==q.body.innerHTML)&&--w){p("requeing onLoad callback, DOM not available");setTimeout(c,250);return}y=!0;m.responseText=q.documentElement?q.documentElement.innerHTML:null;m.responseXML=q.XMLDocument?q.XMLDocument:q;m.getResponseHeader=function(a){return{"content-type":f.dataType}[a]};var e=/(json|script)/.test(f.dataType);
if(e||f.textarea){var k=q.getElementsByTagName("textarea")[0];if(k)m.responseText=k.value;else if(e){var g=q.getElementsByTagName("pre")[0];g&&(m.responseText=g.innerHTML)}}else"xml"!=f.dataType||m.responseXML||null==m.responseText||(m.responseXML=h(m.responseText));z=b.httpData(m,f.dataType)}catch(l){p("error caught:",l),a=!1,m.error=l,b.handleError(f,m,"error",l)}a&&(f.success.call(f.context,z,"success",m),t&&b.event.trigger("ajaxSuccess",[m,f]));t&&b.event.trigger("ajaxComplete",[m,f]);t&&!--b.active&&
b.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,m,a?"success":"error");setTimeout(function(){n.removeData("form-plugin-onload");n.remove();m.responseXML=null},100)}}function h(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.tagName?b:null}var e=l[0];if(b(":input[name=submit],:input[id=submit]",e).length)alert('Error: Form elements must not have name or id of "submit".');
else{var f=b.extend(!0,{},b.ajaxSettings,a);f.context=f.context||f;var k="jqFormIO"+(new Date).getTime(),g="_"+k;window[g]=function(){var a=n.data("form-plugin-onload");if(a){a();window[g]=void 0;try{delete window[g]}catch(b){}}};var n=b('<iframe id="'+k+'" name="'+k+'" src="'+f.iframeSrc+'" onload="window[\'_\'+this.id]()" />'),r=n[0];n.css({position:"absolute",top:"-1000px",left:"-1000px"});var m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},
getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;n.attr("src",f.iframeSrc)}},t=f.global;t&&!b.active++&&b.event.trigger("ajaxStart");t&&b.event.trigger("ajaxSend",[m,f]);if(f.beforeSend&&!1===f.beforeSend.call(f.context,m,f))f.global&&b.active--;else if(!m.aborted){var y=!1,x=0,u=e.clk;if(u){var v=u.name;v&&!u.disabled&&(f.extraData=f.extraData||{},f.extraData[v]=u.value,"image"==u.type&&(f.extraData[v+".x"]=e.clk_x,f.extraData[v+".y"]=e.clk_y))}f.forceSync?
d():setTimeout(d,10);var z,q,w=50}}}if(!this.length)return p("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof a&&(a={success:a});var c=b.trim(this.attr("action"));c&&(c=(c.match(/^([^#]+)/)||[])[1]);c=c||window.location.href||"";a=b.extend(!0,{url:c,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);c={};this.trigger("form-pre-serialize",[this,a,c]);if(c.veto)return p("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return p("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d,h,k=this.formToArray(a.semantic);if(a.data)for(d in a.extraData=a.data,a.data)if(a.data[d]instanceof Array)for(var g in a.data[d])k.push({name:d,value:a.data[d][g]});else h=a.data[d],h=b.isFunction(h)?h():h,k.push({name:d,value:h});if(a.beforeSubmit&&!1===a.beforeSubmit(k,this,a))return p("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",
[k,this,a,c]);if(c.veto)return p("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;d=b.param(k);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+d,a.data=null):a.data=d;var l=this,n=[];a.resetForm&&n.push(function(){l.resetForm()});a.clearForm&&n.push(function(){l.clearForm()});if(!a.dataType&&a.target){var w=a.success||function(){};n.push(function(d){var c=a.replaceTarget?"replaceWith":"html";b(a.target)[c](d).each(w,arguments)})}else a.success&&n.push(a.success);
a.success=function(b,d,c){for(var e=a.context||a,f=0,h=n.length;f<h;f++)n[f].apply(e,[b,d,c||l,l])};d=0<b("input:file",this).length;g="multipart/form-data"==l.attr("enctype")||"multipart/form-data"==l.attr("encoding");!1!==a.iframe&&(d||a.iframe||g)?a.closeKeepAlive?b.get(a.closeKeepAlive,e):e():b.ajax(a);this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(a){if(0===this.length){var e=this.selector,c=this.context;if(!b.isReady&&e)return p("DOM not ready, queuing ajaxForm"),
b(function(){b(e,c).ajaxForm(a)}),this;p("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(d){d.isDefaultPrevented()||(d.preventDefault(),b(this).ajaxSubmit(a))}).bind("click.form-plugin",function(a){var c=a.target,e=b(c);if(!e.is(":submit,input:image")){c=e.closest(":submit");if(0==c.length)return;c=c[0]}var g=this;g.clk=c;"image"==c.type&&(void 0!=a.offsetX?(g.clk_x=a.offsetX,g.clk_y=a.offsetY):
"function"==typeof b.fn.offset?(e=e.offset(),g.clk_x=a.pageX-e.left,g.clk_y=a.pageY-e.top):(g.clk_x=a.pageX-c.offsetLeft,g.clk_y=a.pageY-c.offsetTop));setTimeout(function(){g.clk=g.clk_x=g.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a){var e=[];if(0===this.length)return e;var c=this[0],d=a?c.getElementsByTagName("*"):c.elements;if(!d)return e;var h,k,g,l;h=0;for(max=d.length;h<max;h++)if(k=d[h],g=k.name)if(a&&
c.clk&&"image"==k.type)k.disabled||c.clk!=k||(e.push({name:g,value:b(k).val()}),e.push({name:g+".x",value:c.clk_x},{name:g+".y",value:c.clk_y}));else if((l=b.fieldValue(k,!0))&&l.constructor==Array)for(k=0,jmax=l.length;k<jmax;k++)e.push({name:g,value:l[k]});else null!==l&&"undefined"!=typeof l&&e.push({name:g,value:l});!a&&c.clk&&(a=b(c.clk),d=a[0],(g=d.name)&&!d.disabled&&"image"==d.type&&(e.push({name:g,value:a.val()}),e.push({name:g+".x",value:c.clk_x},{name:g+".y",value:c.clk_y})));return e};
b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var e=[];this.each(function(){var c=this.name;if(c){var d=b.fieldValue(this,a);if(d&&d.constructor==Array)for(var h=0,k=d.length;h<k;h++)e.push({name:c,value:d[h]});else null!==d&&"undefined"!=typeof d&&e.push({name:this.name,value:d})}});return b.param(e)};b.fn.fieldValue=function(a){for(var e=[],c=0,d=this.length;c<d;c++){var h=b.fieldValue(this[c],a);null===h||"undefined"==typeof h||h.constructor==
Array&&!h.length||(h.constructor==Array?b.merge(e,h):e.push(h))}return e};b.fieldValue=function(a,e){var c=a.name,d=a.type,h=a.tagName.toLowerCase();void 0===e&&(e=!0);if(e&&(!c||a.disabled||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==h&&-1==a.selectedIndex))return null;if("select"==h){var k=a.selectedIndex;if(0>k)return null;for(var c=[],h=a.options,g=(d="select-one"==d)?k+1:h.length,k=d?k:0;k<g;k++){var l=h[k];if(l.selected){var n=
l.value;n||(n=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value);if(d)return n;c.push(n)}}return c}return b(a).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})};
b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=a:"option"==this.tagName.toLowerCase()&&(e=b(this).parent("select"),a&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),
this.selected=a)})}})(jQuery);
